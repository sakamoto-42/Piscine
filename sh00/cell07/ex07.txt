// ATTENTION ! TELECHARGER LES FICHIERS a ET sw.diff DANS LE DOSSIER RESSOURCES !

cd shell00
mkdir ex07
cd ex07

// DEPLACEZ LES FICHIERS a ET sw.diff DANS LE REPERTOIRE DE RENDU ex07 :
// Déplacez-vous dans le répertoire contenant a et sw.diff
// (Téléchargements si vous les avez téléchargés, ressources si vous avez cloné le git)
// Tapez la commande suivante : mv file destination_directory
// en remplaçant file par a ou sw.diff (l'un des deux à la fois !)
// et destination_directory par le chemin vers le répertoire de rendu ex07
// en utilisant un chemin absolu ou relatif
// - chemin absolu : à partir de la racine (/home/julien/Piscine/shell00/cell07/ex07 par exemple)
// - chemin relatif : à partir du répertoire courant, en utilisant .. pour remonter d'un répertoire
//  (../ex07 par exemple, si vous avez êtes dans le répertoire ressources et que vous voulez remonter d'un niveau
// pour revenir dans cell07, ou se trouve ex07

cat -e a

// RESULTAT ($ indique un retour à la ligne) :

STARWARS$
Episode IV, A NEW HOPE It is a period of civil war.$
$
Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.$
During the battle, Rebel spies managed to steal secret plans to the Empire's ultimate weapon, the DEATH STAR,$
an armored space station with enough power to destroy an entire planet.$
$
Pursued by the Empire's sinister agents, Princess Leia races home aboard her starship, custodian of the stolen plans that can save her people and restore freedom to the galaxy...$
$

cat sw.diff

// RESULTAT :
1,2c1,8
< STARWARS
< Episode IV, A NEW HOPE It is a period of civil war.
---
> Episode V, A NEW HOPE It is a period of civil war.
> Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.
> During the battle, Rebel spies managed to steal secret plans to the Empire's ultimate weapon, the DEATH STAR, an armored space station with enough power to destroy an entire planet.
>
>
> Pursued by the Empire's sinister agents,
> Princess Mehdi races home aboard her starship, custodian of the stolen plans that can save her people and restore dictatorship to the galaxie..
>
4,6d9
< Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.
< During the battle, Rebel spies managed to steal secret plans to the Empire's ultimate weapon, the DEATH STAR,
< an armored space station with enough power to destroy an entire planet.
8d10
< Pursued by the Empire's sinister agents, Princess Leia races home aboard her starship, custodian of the stolen plans that can save her people and restore freedom to the galaxy...

// EXPLICATIONS : ...
1,2c1,8
// les lignes 1 et 2 du fichier original sont remplacées par les lignes 1 à 8 dans le fichier modifié
4,6d9
// les lignes 4, 5 et 6 ont été supprimées (juste avant la ligne 9)
8d10
// la ligne 8 a été supprimée (juste avant la ligne 10) 

// le fichier diff a été créé avec la commande :
// diff a b > sw.diff
// ce qui a crée un fichier diff, contenant les différences entre le fichier a et le fichier b (présente les lignes ajoutées, supprimées ou modifiées entre les 2 versions, ce qui facilite la compréhension des changements effectués)

cat a b		// copie le fichier a dans le fichier b

patch b < sw.diff	// met à jour (patche) le fichier a avec le fichier sw.diff : remplace le contenu du fichier a différent de celui de b par le contenu de sw.diff

// ouvrir les fichiers a et b, les mettre en face et voir le résultat

rm a sw.diff

ASTUCES :
man diff
man patch